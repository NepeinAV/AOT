!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=4)}([function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}String.prototype.inString=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if("object"!==n(e))throw new Error("Argument is not an array");return e.find(function(e){return e===t.toString()})},String.prototype.in=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if("object"!==n(e))throw new Error("Argument is not an array");return e.find(function(e){return e===t.charCodeAt(r)})},String.prototype.multipleSpaces=function(){for(var t="",e=0;e<this.length;e++)this.in([32,160,65279],e)&&this.in([32,160,65279],e+1)||(t+=this[e]);return t},String.prototype.hyphenSpaces=function(){for(var t="",e=0;e<this.length;e++)this.in([32,160,65279],e)?45!==this.charCodeAt(e+1)&&45!==this.charCodeAt(e-1)&&(t+=this[e]):t+=this[e];return t},String.prototype.lineWrapping=function(){for(var t="",e=0;e<this.length;e++)this.in([10,13],e)?t+=" ":t+=this[e];return t}},function(t,e){Array.prototype.swap=function(t,e){var n=this[e];this[e]=this[t],this[t]=n},Array.prototype.isort=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.length-1,r=e+1;r<=n;r++)for(var i=r;i>0&&t(this[i],this[i-1]);i--)this.swap(i-1,i);return this},Array.prototype.qsort=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.length-1;if(void 0===t&&(t=function(t,e){return t<e?1:0}),"function"!=typeof t)throw Error("Argument compareFn must be a function");if(n-e<=32)return this.isort(t,e,n);for(var r=e,i=n,o=this[Math.floor(e+Math.random()*(n+1-e))];r<=i;){for(;t(this[r],o);)r++;for(;t(o,this[i]);)i--;r<=i&&this.swap(r++,i--)}return e<i&&this.qsort(t,e,i),n>r&&this.qsort(t,r,n),this}},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);n(0),n(1);var r=[["вшись","вши","в"],["ывшись","ившись","ывши","ивши","ив","ыв"],[6,5,4,3,2,1]],i=[["его","ого","ему","ому","ими","ыми","ее","ие","ые","ое","ей","ий","ый","ой","ем","им","ым","ом","их","ых","ую","юю","ая","яя","ою","ею"],[3,2]],o=[["ся","сь"],[2]],s=[["ете","йте","ешь","нно","ла","на","ли","ем","ло","но","ет","ют","ны","ть","н","й","л"],["ейте","уйте","ует","уют","ило","ыло","ено","ила","ыла","ена","ите","или","ены","ить","ыть","ишь","ыли","ей","уй","ил","ыл","им","ым","ен","ят","ит","ыт","ую","ю"],[4,3,2,1]],a=[["иями","ями","ами","ией","иях","иям","ием","ев","ов","ие","ье","еи","ии","ей","ой","ий","ям","ем","ам","ом","ах","ях","ию","ью","ю","ия","ья","ю","и","о","у","ы","ь","й","е","а","я"],[4,3,2,1]],u=[["ейше","ейш"],[4,3]],l=[["ость","ост"],[4,3]];function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var h=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.vowels=["а","е","ё","и","о","у","ы","э","ю","я"],this.vowelCodes=[1072,1077,1105,1080,1086,1091,1099,1101,1102,1103],this.consonants=["б","в","г","д","ж","з","й","к","л","м","н","п","р","с","т","у","ф","х","ц","ч","ш","щ"],this.consonantCodes=[1073,1074,1075,1076,1078,1079,1081,1082,1083,1084,1085,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097]}return function(t,e,n){e&&c(t.prototype,e),n&&c(t,n)}(t,[{key:"getRV",value:function(t){for(var e=0;e<t.length-1;){if(t[e].in(this.consonantCodes)&&t[e+1].in(this.vowelCodes))return[t.slice(0,e+=2),t.slice(e)];e++}return[t,""]}},{key:"getR1",value:function(t){for(var e=0;e<t.length-1;){if(t[e].in(this.vowelCodes)&&t[e+1].in(this.consonantCodes))return[t.slice(0,e+=2),t.slice(e)];e++}return[t,""]}},{key:"getR2",value:function(t){for(var e=0;e<t.length-1;){if(t[e].in(this.vowelCodes)&&t[e+1].in(this.consonantCodes))return[t.slice(0,e+=2),t.slice(e)];e++}return[t,""]}},{key:"stemWords",value:function(t){for(var e=[],n="",r=0;r<t.length;r++)n=this.stemWord(t[r]),e.push(n);return e}},{key:"findEnding",value:function(t,e){var n="",r=[],i=0,o=t[1];3===t.length&&(o=t[2]);for(var s=0;s<o.length;s++)if(e.length>=o[s]&&(i=e.length-o[s],n=e.slice(i),r=3===t.length?"я"===e[i-1]||"а"===e[i-1]?t[0]:t[1]:t[0],n.inString(r))){if(e=e.slice(0,e.length-n.length),t===this.adjective){var a=this.findEnding(this.participle,e);!1!==a&&(e=a)}return e}return!1}},{key:"firstStep",value:function(t){var e,n,u,l,c,h=!1,d=this.getRV(t)[1];return!1!==(e=this.findEnding(r,t))?e:d.length<=2?d:(!1!==(n=this.findEnding(o,d))&&(h=!0,d=n),0!=(u=this.findEnding(i,d))?u:!1!==(l=this.findEnding(s,d))?l:h||!1===(c=this.findEnding(a,d))?d:c)}},{key:"secondStep",value:function(t){return"и"===t[t.length-1]?t.slice(0,t.length-1):t}},{key:"thirdStep",value:function(t){if(t.length>=3){var e=this.findEnding(l,t);return 0!=e?e:t}return t}},{key:"fourthStep",value:function(t){var e;return"н"===t[t.length-1]&&"н"===t[t.length-2]?t.slice(0,t.length-1):!1!==(e=this.findEnding(u,t))?e:"ь"===t[t.length-1]?t.slice(0,t.length-1):t}},{key:"stemWord",value:function(t){var e,n,r,i,o,s,a=this.getRV(t)[0];return e=this.firstStep(t),n=a+this.secondStep(e),r=this.getR1(n)[0],i=this.getR1(n)[1],o=this.getR2(i)[0],s=this.getR2(i)[1],n=r+o+this.thirdStep(s),this.fourthStep(n)}}]),t}();function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var f=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.hyphen=function(t,n){return!t.charCodeAt(n-1)||e.badSymbol(t.charCodeAt(n-1))||!t.charCodeAt(n+1)||e.badSymbol(t.charCodeAt(n+1))},this.badSymbol=function(t){return e.badSymbols.find(function(e){return t>=e[0]&&t<=e[1]})},this.badSymbols=[[33,47],[58,63],[91,95],[123,126],[171,171],[187,187],[8211,8212],[8230,8230],[8722,8722]]}return function(t,e,n){e&&d(t.prototype,e),n&&d(t,n)}(t,[{key:"breakText",value:function(t){for(var e=[],n="",r=0;r<t.length;r++)t.in([32,65279],r)?""!==n.trim()&&(e.push(n),n=""):n+=t[r];return""!==n.trim()&&e.push(n),e}},{key:"cleanWords",value:function(t){var e,n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done);r=!0){var u=s.value;(e=this.cleanWord(u.trim().toLowerCase())).length&&(n=n.concat(e))}}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}},{key:"cleanWord",value:function(t){for(var e="",n=0;n<t.length;n++)e+=(45===t.charCodeAt(n)?this.hyphen(t,n):this.badSymbol(t.charCodeAt(n)))?" ":t[n];return""===(e=e.trim())?[]:this.breakText(e)}}]),t}();function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var m=new h,v=new f,y=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.state={isInputChanged:!0,wordList:[],cleanWordList:[],sortedList:[]},this.text=document.querySelector("textarea"),this.input=document.querySelectorAll("textarea")[0],this.output=document.querySelectorAll("textarea")[1],this.lineNumberBox=document.querySelector(".lines"),this.breakWordButton=document.querySelector("a[data-type=breaktext]"),this.cleanTextButton=document.querySelector("a[data-type=cleantext]"),this.sortButton=document.querySelector("a[data-type=sort]"),this.stammingButton=document.querySelector("a[data-type=stamming]"),this.createListeners()}return function(t,e,n){e&&g(t.prototype,e),n&&g(t,n)}(t,[{key:"printWords",value:function(t,e){e.value="";var n="";t.map(function(e,r){return r===t.length-1?n+=e:n+=e+"\n"}),e.value=n,this.createLineNumbers(t)}},{key:"dispatch",value:function(t,e){this.state=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){p(t,e,n[e])})}return t}({},t,e)}},{key:"createListeners",value:function(){var t=this;this.breakWordButton.addEventListener("click",function(e){var n=t.state,r=n.isInputChanged,i=n.wordList;n.cleanWordList,n.sortedList;if(e.preventDefault(),!r)return t.printWords(i,t.output),t.renderSteps([t.breakWordButton,t.cleanTextButton,t.sortButton,t.stammingButton],[!0,!0],[!0]),!1;console.log("------------------- Breaking text"),t.renderSteps([t.breakWordButton,t.cleanTextButton,t.sortButton,t.stammingButton],[!0]),console.time("Time of text breaking"),i=v.breakText(t.text.value.multipleSpaces().hyphenSpaces().lineWrapping()),console.timeEnd("Time of text breaking"),t.dispatch(t.state,{wordList:i,isInputChanged:!1,cleanWordList:[],sortedList:[]}),t.printWords(i,t.output),t.renderSteps([t.breakWordButton,t.cleanTextButton],[!0,!0],[!0])}),this.cleanTextButton.addEventListener("click",function(e){var n=t.state,r=(n.isInputChanged,n.wordList),i=n.cleanWordList;return e.preventDefault(),i.length?(t.printWords(i,t.output),t.renderSteps([t.cleanTextButton,t.sortButton,t.stammingButton],[!0,!0],[!0]),!1):!!r.length&&(console.log("------------------- Cleaning words"),console.time("Time of word cleaning"),i=v.cleanWords(r),console.timeEnd("Time of word cleaning"),t.dispatch(t.state,{cleanWordList:i}),t.printWords(i,t.output),void t.renderSteps([t.cleanTextButton,t.sortButton,t.stammingButton],[!0,!0],[!0]))}),this.sortButton.addEventListener("click",function(e){var n=t.state,r=n.cleanWordList,i=n.sortedList;if(e.preventDefault(),i.length)return t.printWords(i,t.output),t.renderSteps([t.sortButton,t.stammingButton],[!0,!0],[!0]),!1;console.log("------------------- Sorting words");var o=r.slice();console.time("Time of word sorting"),o.qsort(),console.timeEnd("Time of word sorting"),i=o,t.dispatch(t.state,{sortedList:i}),t.printWords(i,t.output),t.renderSteps([t.sortButton,t.stammingButton],[!0,!0],[!0])}),this.stammingButton.addEventListener("click",function(e){e.preventDefault();var n=t.state.sortedList;console.log("------------------- Stemming words");var r=[],i=n.slice();console.time("Time of stemming"),r=m.stemWords(i),console.timeEnd("Time of stemming"),r=r.map(function(t,e){return i[e]+" => "+t}),t.printWords(r,t.output),t.renderSteps([t.stammingButton],[!0],[!0])}),this.output.addEventListener("scroll",function(e){t.lineNumberBox.attributeStyleMap.set("margin-top",CSS.px(-e.target.scrollTop))}),document.querySelector(".outputbox").addEventListener("click",function(t){"percent"===t.target.className&&(document.querySelector(".inputbox").attributeStyleMap.set("width",CSS.percent(100-t.target.dataset.percent)),document.querySelector(".outputbox").attributeStyleMap.set("width",CSS.percent(t.target.dataset.percent)))}),this.input.addEventListener("change",function(e){t.state.isInputChanged=!0})}},{key:"createLineNumbers",value:function(t){var e;if(0===t.length)this.lineNumberBox.innerHTML="",(e=document.createElement("span")).innerText=1,this.lineNumberBox.appendChild(e);else if(this.lineNumberBox.lastElementChild.innerText<t.length)for(var n,r=+this.lineNumberBox.lastElementChild.innerText+1;r<=t.length;r++)(n=document.createElement("span")).innerText=r,this.lineNumberBox.appendChild(n);else if(this.lineNumberBox.lastElementChild.innerText>t.length)for(var i=+this.lineNumberBox.lastElementChild.innerText-1;i>=t.length;i--)this.lineNumberBox.removeChild(this.lineNumberBox.children[i]);this.output.attributeStyleMap.set("padding-left",CSS.px(this.lineNumberBox.offsetWidth+15))}},{key:"renderSteps",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];t.map(function(t,r){e[r]?t.classList.add("animate"):t.classList.remove("animate"),n[r]?t.classList.add("active"):t.classList.remove("active")})}},{key:"loader",value:function(t){document.querySelector(".lds-ellipsis").attributeStyleMap.set("opacity",t?"1":"0")}}]),t}();n(2),n(3),new y}]);